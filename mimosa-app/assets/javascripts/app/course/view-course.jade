append stylesheets
  link(rel='stylesheet', href='/stylesheets/vendor/metronic/pages/timeline.css')
  style
    .timeline:before {
      left: 10%;
    }

    .timeline > li .timeline-time {
      width: 5%;
    }

    .timeline > li .timeline-icon {
      left: 10%;
    }

    .timeline > li .timeline-body {
      margin-left: 15%;
    }

.content-padded(ng-cloak)
  .row-padded
    include course-breadcrumb

    h2.page-title {{course.full_name}}
      small.pad-left {{course.description}}
    hr(style='margin-bottom: 5px;')
  .row-padded
    .col-md-12
      .row(ng-show='isInstructor')
        h4 Course Actions:
          span.pad-left
            a.btn.blue.btn-sm(href='/course/view/{{course.id}}/lesson/add/new')
              i.fa.fa-plus
              span.pad-left Add Lesson
            span.pad-left
            a.btn.blue.btn-sm(href='/course/view/{{course.id}}/syllabus/edit/{{syllabus.id}}')
              i.fa.fa-edit
              span.pad-left Edit Syllabus
            span.pad-left
            a.btn.blue.btn-sm(href='#sections')
              i.fa.fa-group
              span.pad-left View Sections
        .row-padded
          hr(style='margin-top: 5px;')
      .row
        ul.timeline
          li.timeline-blue(ng-repeat='lesson in lessons')
            .timeline-time
              span.date Week
              span.time {{lesson.week_no}}
            .timeline-icon
              i.fa.fa-file-text
            .timeline-body
              h2 {{lesson.name}}
              .timeline-content {{lesson.description}}
              .timeline-footer
                a.nav-link.pull-right(href='/course/view/{{course.id}}/lesson/view/{{lesson.id}}')
                  span View lesson
                  i.pad-left.fa.fa-arrow-circle-o-right
                a.nav-link.pull-left(href='/course/view/{{course.id}}/lesson/edit/{{lesson.id}}', ng-if='isInstructor')
                  i.fa.fa-edit
                  span.pad-left Edit Lesson
  .row-padded
    hr
    .col-md-12(ng-cloak)
      .row(ng-if='syllabus.name')
        h2 {{syllabus.name}}
          small.pad-left {{syllabus.description}}
        blockquote
          p(ng-show='syllabus.content', btf-markdown='syllabus.content')
      .row(ng-if='!syllabus.name')
        h5.subheader Loading syllabus data
  .row-padded(ng-if='isInstructor')
    hr
    h2 Sections:
      a#sections
    ul.nav.nav-pills
      li(ng-class='{active: section == null}')
        a(href='/course/view/{{course.id}}') All
      li(ng-repeat='s in sections', ng-class='{active: section.id == s.id}')
        a(href='/course/view/{{course.id}}/section/view/{{s.id}}') {{s.section_no}}
    .col-md-8
      h4
        i.subheader.fa.fa-user
        span.pad-left Students
      table
        thead
          tr
            th
            th
        tbody
          tr(ng-if='!students.length > 0')
            td(colspan='2')
              em No students enrolled
          tr(ng-repeat='student in students')
            td
              a(href='#') {{student.first_name}} {{student.last_name}}
            td
              a.tiny.button.round(href='mailto: {{student.email}}')
                i.fa.fa-envelope
              span.pad-left
              a.tiny.button.round(href='#')
                i.fa.fa-info
    .col-md-4
      h4
        i.subheader.fa.fa-group
        span.pad-left Teams
      ul.side-nav
        li(ng-if='!teams.length > 0')
          em None
